# docker box definition
box: ekholabs/wercker-jdk8-go

# defining the build pipeline
build:
  steps:
    - script:
        name: show base information
        code: |
            echo $WERCKER_GIT_BRANCH
            echo $JAVA_HOME
            java -version
            javac -version
            gradle -v
    - script:
        name: Export Java Home
        code: |
            export JAVA_HOME=/usr/lib/jvm/java-8-oracle
            export GIT_BRANCH=$WERCKER_GIT_BRANCH
    - script:
        name: Gradle Build
        code: |
            gradle clean build jacocoRootReport coveralls shadowJar
