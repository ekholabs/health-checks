# docker box definition
box: ekholabs/wercker-jdk8-go

# defining the build pipeline
build:
  steps:
    - script:
        name: show base information
        code: |
            echo $JAVA_HOME
            java -version
            javac -version
            gradle -v
    - script:
        name: Gradle Build
        code: |
            ./gradlew wrapper
            ./gradlew clean build shadowJar
  steps:
    - script:
        name: Get goveralls
        code: |
            go get github.com/mattn/goveralls
    - tcnksm/goveralls:
        token: $COVERALLS_TOKEN
